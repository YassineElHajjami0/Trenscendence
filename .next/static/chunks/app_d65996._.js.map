{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/Atoms/friendAtom.ts"],"sourcesContent":["import { atom } from \"recoil\";\nexport const slctdFriend = atom({\n  key: \"selectedFriend\",\n  default: Number(localStorage.getItem(\"selectedFriend\")) || -1,\n});\n"],"names":[],"mappings":";;;;;;AACO,MAAM,cAAc,iJAAK;IAC9B,KAAK;IACL,SAAS,OAAO,aAAa,OAAO,CAAC,sBAAsB,CAAC;AAC9D"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/FriendChat.tsx"],"sourcesContent":["import React from \"react\";\nimport \"./FriendChat.css\";\nimport Image from \"next/image\";\n\nimport { slctdFriend } from \"../../Atoms/friendAtom\";\nimport { useRecoilState } from \"recoil\";\n\ninterface FriendChatProps {\n  friendData: any;\n}\n\nconst FriendChat: React.FC<FriendChatProps> = ({ friendData }) => {\n  const [selectedFriend, setSelectedFriend] = useRecoilState(slctdFriend);\n\n  return (\n    <div\n      onClick={() => setSelectedFriend(friendData.uid)}\n      className=\"friend_chat_container\"\n    >\n      <div className=\"chat_list_avatar_container\">\n        <Image\n          className=\"chat_list_avatar\"\n          src={friendData?.avatar}\n          width={2000}\n          height={2000}\n          alt=\"avatar\"\n        />\n        <span\n          className={`status_dot ${\n            friendData?.status === \"online\" && \"logged\"\n          }  ${friendData?.status === \"ingame\" && \"ingame\"}`}\n        ></span>\n      </div>\n      <div className=\"chat_list_name\">\n        <h1>{friendData?.name}</h1>\n        <h4>{friendData?.lastMSG}</h4>\n      </div>\n    </div>\n  );\n};\nexport default FriendChat;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAWA,MAAM,aAAwC,CAAC,EAAE,UAAU,EAAE;;IAC3D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG;IAE5C,qBACE,wLAAC;QACC,SAAS,IAAM,kBAAkB,WAAW,GAAG;QAC/C,WAAU;;0BAEV,wLAAC;gBAAI,WAAU;;kCACb;wBACE,WAAU;wBACV,KAAK,YAAY;wBACjB,OAAO;wBACP,QAAQ;wBACR,KAAI;;;;;;kCAEN,wLAAC;wBACC,WAAW,CAAC,WAAW,EACrB,YAAY,WAAW,YAAY,SACpC,EAAE,EAAE,YAAY,WAAW,YAAY,SAAS,CAAC;;;;;;;;;;;;0BAGtD,wLAAC;gBAAI,WAAU;;kCACb,wLAAC;kCAAI,YAAY;;;;;;kCACjB,wLAAC;kCAAI,YAAY;;;;;;;;;;;;;;;;;;AAIzB;GA5BM;;;;;KAAA;uCA6BS"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/FriendsChat.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./FriendsChat.css\";\nimport FriendChat from \"./FriendChat\";\nimport friendData from \"../../data/friends.json\";\nimport { FriendData } from \"@/app/Interfaces/friendDataInterface\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { loggedUser } from \"@/app/Atoms/logged\";\nimport { slctdFriend } from \"@/app/Atoms/friendAtom\";\nimport { mheaders } from \"@/app/util/headers\";\nimport { userToken } from \"@/app/Atoms/userToken\";\n\nexport default function FriendsChat() {\n  const loggedUserUID = useRecoilValue(loggedUser);\n  const userTok = useRecoilValue(userToken);\n  const [myFriends, setMyFriends] = useState([]);\n  const getMyFriends = async () => {\n    try {\n      const response = await fetch(\n        `http://localhost:3000/friends/${loggedUserUID}`,\n        {\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      if (!response) {\n        console.log(\"Error000\");\n      }\n      const data = await response.json();\n      console.log(\"------->my friends\", data);\n\n      setMyFriends(data);\n    } catch (error) {\n      console.log(\"Error111\");\n    }\n  };\n  useEffect(() => {\n    getMyFriends();\n  }, []);\n\n  // const friend_data: FriendData[] = friendData;\n  // const sortedFriends = friend_data.sort((a: FriendData, b: FriendData) => {\n  //   const onlineComparison =\n  //     (b.status === \"online\" ? 1 : 0) - (a.status === \"online\" ? 1 : 0);\n  //   const ingameComparison =\n  //     (b.status === \"ingame\" ? 1 : 0) - (a.status === \"ingame\" ? 1 : 0);\n  //   return onlineComparison || ingameComparison;\n  // });\n\n  return (\n    <div className=\"friends_chat_container\">\n      {myFriends.length > 0 &&\n        myFriends.map((f: any) => <FriendChat key={f?.uid} friendData={f} />)}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,gBAAgB;IACtB,MAAM,UAAU;IAChB,MAAM,CAAC,WAAW,aAAa,GAAG,0KAAS,EAAE;IAC7C,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,WAAW,MAAM,MACrB,CAAC,8BAA8B,EAAE,cAAc,CAAC,EAChD;gBACE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC;oBAClC,gBAAgB;gBAClB;YACF;YAEF,IAAI,CAAC,UAAU;gBACb,QAAQ,GAAG,CAAC;YACd;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC,sBAAsB;YAElC,aAAa;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;QACd;IACF;IACA,2KAAU;QACR;IACF,GAAG,EAAE;IAEL,gDAAgD;IAChD,6EAA6E;IAC7E,6BAA6B;IAC7B,yEAAyE;IACzE,6BAA6B;IAC7B,yEAAyE;IACzE,iDAAiD;IACjD,MAAM;IAEN,qBACE,wLAAC;QAAI,WAAU;kBACZ,UAAU,MAAM,GAAG,KAClB,UAAU,GAAG,CAAC,CAAC,kBAAW;gBAAyB,YAAY;eAApB,GAAG;;;;;;;;;;AAGtD;GA7CwB;;;;;;KAAA"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Channels/channelChat.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport \"./channelChat.css\";\nimport { IoArrowBackOutline } from \"react-icons/io5\";\nimport { AiOutlineUsergroupAdd } from \"react-icons/ai\";\nimport { GrChannel } from \"react-icons/gr\";\n\ninterface channelInterface {\n  id: number;\n  name: string;\n  topic: string;\n  type: string;\n  uri: string;\n  roles: any[];\n}\n\ninterface channelChatProps {\n  channels: channelInterface[] | undefined;\n  setSelectedChannel: React.Dispatch<React.SetStateAction<number>>;\n  setShowPopUpCreateChannel: React.Dispatch<React.SetStateAction<boolean>>;\n  setShowPopUpSearchChannels: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nconst ChannelChat: React.FC<channelChatProps> = ({\n  channels,\n  setSelectedChannel,\n  setShowPopUpCreateChannel,\n  setShowPopUpSearchChannels,\n}) => {\n  return (\n    <>\n      <div className=\"channelsListContainer\">\n        {channels?.map((channel) => {\n          return (\n            <div\n              key={channel.id}\n              className=\"channelContainer\"\n              onClick={() => {\n                setSelectedChannel(channel.id);\n              }}\n            >\n              <div className=\"imageContainer\">\n                <Image\n                  className=\"channelImage\"\n                  src={`http://localhost:3000/${channel.uri}`}\n                  width={80}\n                  height={80}\n                  alt=\"avatar\"\n                />\n              </div>\n              <div className=\"name_lastmsg\">\n                <p>\n                  {channel.name.length > 10\n                    ? `${channel.name.substring(0, 10)}..`\n                    : channel.name}\n                </p>\n                <span>\n                  {channel.roles.length}\n                  {channel.roles.length < 2 ? \" member\" : \" members\"}\n                </span>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      <div\n        className=\"addChannelBtn\"\n        onClick={() => setShowPopUpCreateChannel(true)}\n      >\n        <AiOutlineUsergroupAdd />\n      </div>\n      <div\n        className=\"searchChannelBtn\"\n        onClick={() => setShowPopUpSearchChannels(true)}\n      >\n        <GrChannel />\n      </div>\n    </>\n  );\n};\n\nexport default ChannelChat;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAuBA,MAAM,cAA0C,CAAC,EAC/C,QAAQ,EACR,kBAAkB,EAClB,yBAAyB,EACzB,0BAA0B,EAC3B;IACC,qBACE;;0BACE,wLAAC;gBAAI,WAAU;0BACZ,UAAU,IAAI,CAAC;oBACd,qBACE,wLAAC;wBAEC,WAAU;wBACV,SAAS;4BACP,mBAAmB,QAAQ,EAAE;wBAC/B;;0CAEA,wLAAC;gCAAI,WAAU;0CACb,cAAA;oCACE,WAAU;oCACV,KAAK,CAAC,sBAAsB,EAAE,QAAQ,GAAG,CAAC,CAAC;oCAC3C,OAAO;oCACP,QAAQ;oCACR,KAAI;;;;;;;;;;;0CAGR,wLAAC;gCAAI,WAAU;;kDACb,wLAAC;kDACE,QAAQ,IAAI,CAAC,MAAM,GAAG,KACnB,CAAC,EAAE,QAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,EAAE,CAAC,GACpC,QAAQ,IAAI;;;;;;kDAElB,wLAAC;;4CACE,QAAQ,KAAK,CAAC,MAAM;4CACpB,QAAQ,KAAK,CAAC,MAAM,GAAG,IAAI,YAAY;;;;;;;;;;;;;;uBAvBvC,QAAQ,EAAE;;;;;gBA4BrB;;;;;;0BAEF,wLAAC;gBACC,WAAU;gBACV,SAAS,IAAM,0BAA0B;0BAEzC,cAAA;;;;;;;;;;0BAEF,wLAAC;gBACC,WAAU;gBACV,SAAS,IAAM,2BAA2B;0BAE1C,cAAA;;;;;;;;;;;;AAIR;KAxDM;uCA0DS"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Channels/SelectedChannelChat.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Image from \"next/image\";\nimport ChannelData from \"../../data/channels_list.json\";\nimport { CHANNEL_DATA } from \"@/app/Interfaces/channelDataInterface\";\nimport { IoIosSend } from \"react-icons/io\";\nimport { IoArrowBackOutline } from \"react-icons/io5\";\nimport { MdBlock } from \"react-icons/md\";\nimport \"./channelChat.css\";\nimport { io } from \"socket.io-client\";\nconst socket = io(\"http://localhost:3001\", { transports: [\"websocket\"] });\nconsole.log(\"MMMMMM\", socket);\ninterface channelInterface {\n  id: number;\n  name: string;\n  topic: string;\n  type: string;\n  uri: string;\n  roles: any[];\n}\ninterface MessagesInterface {\n  channelID: number;\n  content: string;\n  createdAT: string;\n  id: number;\n  userID: number;\n  users: { avatar: string };\n}\n\nconst SelectedChannelChat = ({\n  userId,\n  userTok,\n  channels,\n  selectedChannel,\n  setSelectedChannel,\n}: {\n  userId: number;\n  userTok: string;\n  channels: channelInterface[] | undefined;\n  selectedChannel: number;\n  setSelectedChannel: React.Dispatch<React.SetStateAction<number>>;\n}) => {\n  const [chToDisplay, setChToDisplay] = useState<\n    channelInterface | undefined\n  >();\n  const [messages, setMessages] = useState<MessagesInterface[]>();\n  const [msgContent, setMsgContent] = useState<string>(\"\");\n  const [myCondition, setMyCondition] = useState(\"NORMAL\");\n  const chatSectionRef = useRef<HTMLDivElement>(null);\n  const mutedDiv = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    let channelToDisplay: channelInterface | undefined = channels?.find(\n      (ch) => ch.id === selectedChannel\n    );\n\n    const fetchMessages = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/message/${channelToDisplay?.id}`,\n          {\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        const data = await response.json();\n\n        const req = await fetch(\n          `http://localhost:3000/channelss/roles?channelId=${selectedChannel}`,\n          {\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        const myData = await req.json();\n        const myCondition: any = myData.find((e: any) => e.user.uid == userId);\n        setMyCondition(myCondition.condition);\n        if (myCondition.condition == \"BLOCKED\") {\n          const filtredMessages = data.filter(\n            (e: any) => e.createdAT < myCondition.blockedSince\n          );\n\n          setMessages(filtredMessages);\n        } else {\n          setMessages(data);\n        }\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    fetchMessages();\n\n    setChToDisplay(channelToDisplay);\n  }, [selectedChannel]);\n\n  useEffect(() => {\n    const handleReceiveMessage = async (message: any) => {\n      const response = await fetch(\n        `http://localhost:3000/channelss/roles?channelId=${selectedChannel}`,\n        {\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const data = await response.json();\n      const myCondition = data.find((e: any) => e.user.uid == userId);\n      if (!myCondition) {\n        setSelectedChannel(-1);\n        return;\n      }\n      console.log(\"my condition =\", myCondition);\n      setMyCondition(myCondition.condition);\n      if (\n        (message?.channelID === selectedChannel ||\n          message?.channelID === undefined) &&\n        myCondition.condition != \"BLOCKED\"\n      ) {\n        const response = await fetch(\n          `http://localhost:3000/message/${selectedChannel}`,\n          {\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        const data = await response.json();\n        setMessages(data);\n      }\n    };\n\n    socket.on(\"message\", handleReceiveMessage);\n    socket.on(\"updateRoles\", handleReceiveMessage);\n    socket.on(\"updateUsersAfterSomeoneKick\", (data: any) => {\n      const imIn = data.find((e: any) => e.userID == userId);\n      console.log(\"im In =\", imIn);\n      if (!imIn) setSelectedChannel(-1);\n    });\n\n    return () => {\n      socket.off(\"message\");\n      socket.off(\"updateRoles\");\n      socket.off(\"updateUsersAfterSomeoneKick\");\n    };\n  }, [chToDisplay?.id]);\n\n  useEffect(() => {\n    if (chatSectionRef.current) {\n      chatSectionRef.current.scrollTop = chatSectionRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  const handleSendingMessage = (\n    e:\n      | React.KeyboardEvent<HTMLInputElement>\n      | React.MouseEvent<SVGElement, MouseEvent>\n  ) => {\n    const sendTheMessage = async () => {\n      try {\n        const channelData = {\n          userID: userId,\n          channelID: chToDisplay?.id,\n          content: msgContent,\n        };\n\n        const userIsMuted = async (): Promise<number> => {\n          const response = await fetch(\n            `http://localhost:3000/channelss/roles?channelId=${selectedChannel}`,\n            {\n              headers: {\n                Authorization: `Bearer ${userTok}`,\n                \"Content-Type\": \"application/json\",\n              },\n            }\n          );\n          const data = await response.json();\n          const myCondition = data.find((e: any) => e.user.uid == userId);\n          if (myCondition.condition == \"MUTED\") {\n            const dateWhenIGetMuted: Date = new Date(myCondition.mutedSince);\n            const currentTime = new Date();\n\n            const difference =\n              currentTime.getTime() - dateWhenIGetMuted.getTime();\n            console.log(\n              currentTime.getTime(),\n              \" - \",\n              dateWhenIGetMuted.getTime(),\n              \" = \",\n              difference\n            );\n            if (difference / (1000 * 60) >= 1) {\n              console.log(\"IMKN hERE\");\n              const patchRmMute = async () => {\n                try {\n                  const response = await fetch(\n                    `http://localhost:3000/channelss/rmmute?channelId=${selectedChannel}&userId=${userId}`,\n                    {\n                      method: \"PATCH\",\n                      headers: {\n                        Authorization: `Bearer ${userTok}`,\n                        \"Content-Type\": \"application/json\",\n                      },\n                    }\n                  );\n                } catch (error) {\n                  console.log(\"Error herere\");\n                }\n              };\n              patchRmMute();\n              return 1;\n            } else {\n              if (mutedDiv.current) {\n                mutedDiv.current.innerHTML = `you are muted,<br/>wait till the 1 Min complete !`;\n                mutedDiv.current.style.display = \"block\";\n                mutedDiv.current.style.opacity = \"1\";\n                setTimeout(() => {\n                  if (mutedDiv.current) {\n                    mutedDiv.current.style.opacity = \"0\";\n                    mutedDiv.current.style.display = \"block\";\n                  }\n                }, 2000);\n              }\n              return 0;\n            }\n          }\n          return 1;\n        };\n        const isItStillMute: Promise<number> = userIsMuted();\n        const resolverNumber: number = await isItStillMute;\n        if (resolverNumber == 0) {\n          console.log(\"STILL MUTED\");\n          return;\n        }\n        const response = await fetch(`http://localhost:3000/message`, {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(channelData),\n        }).then(() => {\n          setMsgContent(\"\");\n        });\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    sendTheMessage();\n  };\n\n  const returnTime = (msgTime: string) => {\n    const options = { hour: \"2-digit\", minute: \"2-digit\" };\n    const date: string = new Date(msgTime).toLocaleString(\n      \"en-US\",\n      options as Intl.DateTimeFormatOptions\n    );\n    return date;\n  };\n\n  return (\n    <div className=\"channel_msg_section\">\n      <div className=\"channel_msg_section_header\">\n        <IoArrowBackOutline\n          style={{ width: \"20px\", margin: \"5px\" }}\n          className=\"arrow_back\"\n          onClick={() => setSelectedChannel(-1)}\n        />\n        <Image\n          className=\"channel_msg_section_header_avatar\"\n          src={\n            `http://localhost:3000/${chToDisplay?.uri}` ??\n            \"http://localhost:3000/default.png\"\n          }\n          width={100}\n          height={100}\n          alt=\"avatar\"\n        />\n        <div>\n          <h3 style={{ display: \"block\" }}>{chToDisplay?.name}</h3>\n          <p>\n            {chToDisplay?.roles.length}{\" \"}\n            {chToDisplay?.roles.length && chToDisplay?.roles.length < 2\n              ? \"member\"\n              : \"members\"}\n          </p>\n        </div>\n      </div>\n      <div className=\"channel_msg_section_chat\" ref={chatSectionRef}>\n        <div className=\"mutedMsg\" ref={mutedDiv}>\n          BLA\n        </div>\n        {messages?.length && messages?.length > 0\n          ? messages?.map((message) => {\n              return message.userID == userId ? (\n                <div className=\"channelMsgContainerRecipient\" key={message.id}>\n                  <div className=\"msgAndTime\">\n                    <p className=\"channelMsg\">{message.content}</p>\n                    <p className=\"msgTime\">{returnTime(message.createdAT)}</p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"channelMsgContainer\" key={message.id}>\n                  {/* <Image\n                className=\"senderOrRecieverImage\"\n                src={\n                  `http://localhost:3000/${message.users.avatar}` ||\n                  \"default.png\"\n                }\n                width={30}\n                height={30}\n                alt=\"PIC\"\n              /> */}\n                  <div className=\"msgAndTime\">\n                    <p className=\"channelMsg\">{message.content}</p>\n                    <p className=\"msgTime\">{returnTime(message.createdAT)}</p>\n                  </div>\n                </div>\n              );\n            })\n          : \"\"}\n      </div>\n      <div className=\"channel_msg_section_input\">\n        <input\n          disabled={myCondition == \"BLOCKED\"}\n          type=\"text\"\n          value={msgContent}\n          maxLength={100}\n          minLength={1}\n          onChange={(e) => setMsgContent(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key == \"Enter\") {\n              handleSendingMessage(e);\n            }\n          }}\n        />\n        {myCondition == \"BLOCKED\" ? (\n          <MdBlock className=\"sendIcon\" />\n        ) : (\n          <IoIosSend\n            className=\"sendIcon\"\n            onClick={(e) => {\n              handleSendingMessage(e);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SelectedChannelChat;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/FriendMSG.tsx"],"sourcesContent":["import React from \"react\";\nimport \"./FriendMSG.css\";\nimport { ChatMSG } from \"@/app/Interfaces/friendChat\";\nimport { useRecoilValue } from \"recoil\";\nimport { loggedUser } from \"@/app/Atoms/logged\";\nexport const FriendMSG = ({ message }: { message: any }) => {\n  const loggedU = useRecoilValue(loggedUser);\n\n  const options = { hour: \"2-digit\", minute: \"2-digit\" };\n  const date = new Date(message?.createdAT).toLocaleString(\n    \"en-US\",\n    options as Intl.DateTimeFormatOptions\n  );\n\n\n  // \"id\": 4,\n  //       \"userID\": 2,\n  //       \"channelID\": 21,\n  //       \"content\": \"wax nta f medrasa\",\n  //       \"createdAT\": \"2024-03-31T13:08:33.627Z\"\n\n  return (\n    <div className={`chat_msg_container ${message?.userID !== loggedU && \"sender\"}`}>\n      {message?.content}\n      <span\n        className={`friend_msg_time ${message?.userID !== loggedU && \"sender_time\"}`}\n      >\n        {date}\n      </span>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAKO,MAAM,YAAY,CAAC,EAAE,OAAO,EAAoB;;IACrD,MAAM,UAAU;IAEhB,MAAM,UAAU;QAAE,MAAM;QAAW,QAAQ;IAAU;IACrD,MAAM,OAAO,IAAI,KAAK,SAAS,WAAW,cAAc,CACtD,SACA;IAIF,WAAW;IACX,qBAAqB;IACrB,yBAAyB;IACzB,wCAAwC;IACxC,gDAAgD;IAEhD,qBACE,wLAAC;QAAI,WAAW,CAAC,mBAAmB,EAAE,SAAS,WAAW,WAAW,SAAS,CAAC;;YAC5E,SAAS;0BACV,wLAAC;gBACC,WAAW,CAAC,gBAAgB,EAAE,SAAS,WAAW,WAAW,cAAc,CAAC;0BAE3E;;;;;;;;;;;;AAIT;GA1Ba;;;;;KAAA"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/ChatContainer.tsx"],"sourcesContent":["import React from \"react\";\nimport { FriendMSG } from \"./FriendMSG\";\nimport \"./ChatContainer.css\";\nimport { FriendChatMSG } from \"@/app/Interfaces/friendChat\";\nexport const ChatContainer = ({ messages }: { messages: any}) => {\n  // const options = { month: \"long\", day: \"numeric\", year: \"numeric\" };\n  // const date = new Date(messages?.date).toLocaleString(\n  //   \"en-US\",\n  //   options as Intl.DateTimeFormatOptions\n  // );\n\n  return (\n    <div className=\"chat_container\">\n      {/* <h1 className=\"chat_todays_date\">{date}</h1> */}\n\n\n        <FriendMSG key={messages.createdAT} message={messages} />\n\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;AAIO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAoB;IAC1D,sEAAsE;IACtE,wDAAwD;IACxD,aAAa;IACb,0CAA0C;IAC1C,KAAK;IAEL,qBACE,wLAAC;QAAI,WAAU;kBAIX,cAAA;YAAoC,SAAS;WAA7B,SAAS,SAAS;;;;;;;;;;AAI1C;KAhBa"}},
    {"offset": {"line": 814, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/Atoms/currentFriend.ts"],"sourcesContent":["import { atom } from \"recoil\";\nimport { FriendData } from \"../Interfaces/friendDataInterface\";\nexport const currentFriend = atom<any>({\n  key: \"currentFriend\",\n  default: null,\n  //   dangerouslyAllowMutability: true,\n});\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,gBAAgB,iJAAU;IACrC,KAAK;IACL,SAAS;AAEX"}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 834, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/FriendChatList.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"./FriendChatList.css\";\nimport { BiSolidJoystickAlt } from \"react-icons/bi\";\nimport { IoIosSend } from \"react-icons/io\";\nimport Image from \"next/image\";\nimport { IoArrowBackOutline } from \"react-icons/io5\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { ChatContainer } from \"./ChatContainer\";\nimport { slctdFriend } from \"@/app/Atoms/friendAtom\";\n\nimport { currentFriend } from \"@/app/Atoms/currentFriend\";\nimport { loggedUser } from \"@/app/Atoms/logged\";\nimport { channelId } from \"@/app/Atoms/channelId\";\nimport { userToken } from \"@/app/Atoms/userToken\";\nimport { io } from \"socket.io-client\";\nimport { RiEmojiStickerFill } from \"react-icons/ri\";\n\nimport Picker from \"emoji-picker-react\";\n\nconst socket = io(\"http://localhost:3001\", { transports : ['websocket'] });\nconst FriendChatList = () => {\n  const chatContainerRef = useRef<HTMLDivElement>(null);\n  const loggedU = useRecoilValue(loggedUser);\n  const userTok = useRecoilValue(userToken);\n\n  // const friends: FriendData[] = playerData;\n  // const myFriendChat: FriendChat[] = myFriendsChat;\n\n  const [selectedFriend, setSelectedFriend] = useRecoilState(slctdFriend);\n  const [friendChat, setFriendChat] = useState<any>([]);\n  const [friend, setFriend] = useRecoilState(currentFriend);\n  const [inputMSG, setInputMSG] = useState<string>(\"\");\n  const [channelID, setChannelID] = useState(-1);\n  const [showEmoji, setShowEmoji] = useState(false);\n  // const [msgSent, setMsgSent] = useState<number>(-1);\n\n  const onEmojiClick = (event: any) => {\n    setInputMSG((prevInput) => prevInput + event.emoji);\n  };\n\n  useEffect(() => {\n\n\n    const handleReceiveMessage = (message: any) => {\n      if (message?.channelID === channelID)\n        setFriendChat((prevMessages: any) => [...prevMessages, message]);\n    };\n\n\n    \n    socket.on(\"message\", handleReceiveMessage);\n    return () => {\n      socket.off(\"message\");\n    };\n  }, [channelID]);\n\n\n\n\n  const getAllMSG = async (id: number) => {\n    console.log(\"--------id>>>>>>>>\", id);\n\n    if (id === -1) return;\n    const selectedFriendChat = await fetch(\n      `http://localhost:3000/message/${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${userTok}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = await selectedFriendChat.json();\n    if (data?.statusCode) return;\n    // console.log(\"message=========>>>>\", data);\n    setFriendChat(data);\n  };\n\n  useEffect(() => {\n    //get my friend data\n    // friends.find((f) => f.uid === selectedFriend);\n    const getMyFriendData = async () => {\n      /*----------------------------get my friend data------------------------------- */\n      const selectedFriendData = await fetch(\n        `http://localhost:3000/users/${selectedFriend}`,\n        {\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const dataF = await selectedFriendData.json();\n      //set my friend data\n      setFriend(dataF);\n\n      /*---------------------------create a channel or get its id------------------- */\n      const channelData = {\n        name: \"\",\n        topic: \"\",\n        id: loggedU,\n        friendId: selectedFriend,\n      };\n      const createOrGetChannelID = await fetch(\n        \"http://localhost:3000/channels/dm\",\n        {\n          method: \"POST\",\n\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(channelData),\n        }\n      );\n      const dataC = await createOrGetChannelID.json();\n      if (dataC?.statusCode || dataC === -1) {\n        return;\n      }\n\n      setChannelID(dataC);\n      console.log(\"=========================errr\", dataC);\n      getAllMSG(dataC);\n      setInputMSG(\"\");\n    };\n    getMyFriendData();\n  }, [selectedFriend]);\n\n  // useEffect(() => {\n  //   getAllMSG(channelID);\n  // }, [msgSent]);\n\n  const sendMSG = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (inputMSG.length === 0) return;\n    console.log(\"===========================channelid\", channelID);\n\n    const channelData = {\n      userID: loggedU,\n      channelID: channelID,\n      content: inputMSG,\n    };\n    const msg = await fetch(\"http://localhost:3000/message\", {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${userTok}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(channelData),\n    });\n\n    // const data = await msg.json();\n\n    setInputMSG(\"\");\n    setShowEmoji(false);\n  };\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop =\n        chatContainerRef.current.scrollHeight;\n    }\n  }, [friendChat]);\n\n  const isSameDay = (date1: number, date2: number): boolean => {\n    const getFormattedDate = (timestamp: number): string => {\n      const date = new Date(timestamp);\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n    };\n\n    return getFormattedDate(date1) === getFormattedDate(date2);\n  };\n\n  // const sendMessage = (e: React.FormEvent<HTMLFormElement>) => {\n  //   e.preventDefault();\n  //   if (inputMSG.length === 0) return;\n  //   const currentDate = Date.now();\n  //   const message = {\n  //     time: Date.now() as number,\n  //     msg: inputMSG,\n  //     recipient: false,\n  //   };\n  //   const friendChatToUpdate: FriendChat = {\n  //     ...friendChat,\n  //     allmessages: friendChat?.allmessages || [],\n  //     uid: friendChat?.uid || \"\",\n  //   };\n  //   const lastMessage =\n  //     friendChatToUpdate?.allmessages[\n  //       friendChatToUpdate?.allmessages.length - 1\n  //     ];\n  //   if (lastMessage && isSameDay(lastMessage.date, currentDate))\n  //     lastMessage.messages.push(message);\n  //   else {\n  //     friendChatToUpdate?.allmessages.push({\n  //       date: currentDate as number,\n  //       messages: [message],\n  //     });\n  //   }\n  //   setFriendChat(friendChatToUpdate);\n  //   setInputMSG(\"\");\n  // };\n\n  return (\n    <div className=\"friend_chat_msg\">\n      <div className=\"friend_chat_msg_header\">\n        <IoArrowBackOutline\n          className=\"arrow_back\"\n          onClick={() => setSelectedFriend(-1)}\n        />\n\n        <Image\n          className=\"my_chat_msg_avatar\"\n          src={friend?.avatar || \"/avatar3.png\"}\n          width={2000}\n          height={2000}\n          alt=\"avatar\"\n        />\n        <div className=\"my_chat_msg_name\">\n          <h1>{friend?.username}</h1>\n          <h5\n            className={`online ${friend?.status === \"ingame\" && \"ingames\"}\n          ${friend?.status === \"offline\" && \"offline\"}\n          `}\n          >\n            {friend?.status === \"online\"\n              ? \"Online\"\n              : friend?.status === \"ingame\"\n              ? \"Playing\"\n              : \"Offline\"}\n          </h5>\n        </div>\n      </div>\n      <div ref={chatContainerRef} className=\"friend_chat_msg_body\">\n        {friendChat.map((m: any) => (\n          <ChatContainer key={m.createdAT} messages={m} />\n        ))}\n      </div>\n      <form onSubmit={sendMSG} className=\"friend_chat_msg_form\">\n        <fieldset disabled={friend?.blocked}>\n          <div\n            className=\"closed_picker\"\n            onClick={() => setShowEmoji((prev) => !prev)}\n          >\n            <RiEmojiStickerFill />\n          </div>\n          <Picker\n            emojiVersion=\"facebook\"\n            theme=\"dark\"\n            className={`emoji_picker ${showEmoji && \"show_Emoji\"} `}\n            searchDisabled={true}\n            open={true}\n            onEmojiClick={onEmojiClick}\n            lazyLoadEmojis={true}\n            previewConfig={{\n              showPreview: false,\n            }}\n          />\n\n          <input\n            value={inputMSG}\n            onChange={(e) => setInputMSG(e.target.value)}\n            className=\"input_msg\"\n            type=\"text\"\n            placeholder={`${\n              friend?.blocked ? \"You blocked this friend\" : \"Message\"\n            }`}\n          />\n\n          <div className=\"play_send_msg\">\n            <BiSolidJoystickAlt />\n            <button className=\"submit_msg\" type=\"submit\">\n              <IoIosSend />\n            </button>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  );\n};\n\nexport default FriendChatList;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1209, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Channels/channelInfo.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport \"./channelChat.css\";\nimport { GiCancel } from \"react-icons/gi\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport { useEffect, useState } from \"react\";\nimport { MdBlock } from \"react-icons/md\";\nimport { BiSolidVolumeMute } from \"react-icons/bi\";\nimport { io } from \"socket.io-client\";\nconst socket = io(\"http://localhost:3001\", { transports: [\"websocket\"] });\n\ntype CHANNELUSER = {\n  id: number;\n  type: string;\n  name: string;\n  avatar: string;\n};\n\ninterface channelInterface {\n  id: number;\n  name: string;\n  topic: string;\n  type: string;\n  uri: string;\n  roles: any[];\n}\n\ninterface channelUsers {\n  channelID: number;\n  id: number;\n  role: string;\n  user: any;\n  userID: number;\n  condition: string;\n  blockedSince: Date;\n}\ninterface MembersObj {\n  channelOwner: channelUsers | undefined;\n  channelAdmins: channelUsers[] | undefined;\n  channelNormalUsers: channelUsers[] | undefined;\n  myTypeInTheChannel: channelUsers | undefined;\n}\n\nconst ChannelInfo = ({\n  userId,\n  userTok,\n  selectedChannel,\n  channels,\n}: {\n  userId: number;\n  userTok: string;\n  selectedChannel: number;\n  channels: channelInterface[] | undefined;\n}) => {\n  const handleRemoveAdminClick = (id: number) => {\n    const patchRmAdmin = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/rmadmin?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchRmAdmin();\n  };\n  const handleAdminClick = (id: number) => {\n    const patchMakeAdmin = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/makeadmin?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchMakeAdmin();\n  };\n  const handleKickClick = (id: number) => {\n    const patchKick = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/kick?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchKick();\n    console.log(\"KICKED\");\n  };\n  const handleLeaveChannel = (id: number) => {\n    const patchKick = async () => {\n      try {\n        const req = await fetch(\n          `http://localhost:3000/channelss/roles?channelId=${selectedChannel}`,\n          {\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        const allRoles = await req.json();\n        const theOwner = allRoles.filter((e: any) => e.role == \"OWNER\");\n        console.log(\"theOwner=>\", theOwner[0].user.uid, \"  myID:\", userId);\n        if (theOwner[0].user.uid == userId) {\n          if (allRoles.length > 1) {\n            const response = await fetch(\n              `http://localhost:3000/channelss/leave?channelId=${selectedChannel}&userId=${id}`,\n              {\n                method: \"PATCH\",\n                headers: {\n                  Authorization: `Bearer ${userTok}`,\n                  \"Content-Type\": \"application/json\",\n                },\n              }\n            );\n          } else {\n            handleKickClick(theOwner[0].user.uid);\n          }\n        } else {\n          console.log(\"HEEEEEREEE!!!\");\n          const response = await fetch(\n            `http://localhost:3000/channelss/kick?channelId=${selectedChannel}&userId=${userId}`,\n            {\n              method: \"PATCH\",\n              headers: {\n                Authorization: `Bearer ${userTok}`,\n                \"Content-Type\": \"application/json\",\n              },\n            }\n          );\n        }\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchKick();\n  };\n  const handleBlockClick = (id: number) => {\n    const patchblock = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/block?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchblock();\n  };\n  const handleRmBlockClick = (id: number) => {\n    const patchrmblock = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/rmblock?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchrmblock();\n  };\n  const handleMuteClick = (id: number) => {\n    const patchmute = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/mute?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchmute();\n  };\n  const handleRmMuteClick = (id: number) => {\n    const patchRmMute = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/rmmute?channelId=${selectedChannel}&userId=${id}`,\n          {\n            method: \"PATCH\",\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    patchRmMute();\n  };\n  const [MembersObj, setMemmbersObj] = useState<MembersObj>();\n  const [channelData, setChannelData] = useState<channelInterface>();\n\n  useEffect(() => {\n    let channelToDisplay: channelInterface | undefined = channels?.find(\n      (ch) => ch.id === selectedChannel\n    );\n    setChannelData(channelToDisplay);\n    const fetchMessages = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/messages?channelId=${channelToDisplay?.id}`,\n          {\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        const data = await response.json();\n        setMemmbersObj({\n          channelOwner: data?.find((e: channelUsers) => e.role == \"OWNER\"),\n          channelAdmins: data?.filter((e: channelUsers) => e.role == \"ADMIN\"),\n          channelNormalUsers: data?.filter(\n            (e: channelUsers) => e.role == \"USER\"\n          ),\n          myTypeInTheChannel: data?.find(\n            (e: channelUsers) => e.userID === userId\n          ),\n        });\n      } catch (error) {\n        console.log(\"Error herere\");\n      }\n    };\n    fetchMessages();\n  }, [selectedChannel]);\n\n  useEffect(() => {\n    const handleUpdateRoles = (roles: any) => {\n      console.log(\")))>>> \", roles);\n      setMemmbersObj({\n        channelOwner: roles?.find((e: any) => e.role == \"OWNER\"),\n        channelAdmins: roles?.filter((e: any) => e.role == \"ADMIN\"),\n        channelNormalUsers: roles?.filter((e: any) => e.role == \"USER\"),\n        myTypeInTheChannel: roles?.find((e: any) => e.userID === userId),\n      });\n    };\n\n    socket.on(\"updateRoles\", handleUpdateRoles);\n    socket.on(\"updateUsersAfterSomeoneKick\", handleUpdateRoles);\n    return () => {\n      socket.off(\"updateRoles\");\n      socket.off(\"updateUsersAfterSomeoneKick\");\n    };\n  }, []);\n\n  return (\n    <div className=\"selectedChannelData\">\n      <div className=\"ChannelImage\">\n        <Image\n          src={\n            `http://localhost:3000/${channelData?.uri}` ??\n            `http://localhost:3000/default.png`\n          }\n          width={100}\n          height={100}\n          alt=\"avatar\"\n          style={{ borderRadius: \"50%\" }}\n        />\n      </div>\n      <h3 className=\"channelName\">{channelData?.name}</h3>\n      <p className=\"topic\">{channelData?.topic}</p>\n\n      <div className=\"members\">\n        {MembersObj?.channelOwner != undefined ? (\n          <div className=\"owner\">\n            <div className=\"imageNameContainer\">\n              <div className=\"userPic\">\n                <Image\n                  className=\"pic\"\n                  src={`http://localhost:3000/${MembersObj?.channelOwner.user.avatar}`}\n                  width={50}\n                  height={50}\n                  alt=\"avatar\"\n                />\n              </div>\n              <div className=\"name\">\n                {MembersObj?.channelOwner.user.username}\n              </div>\n            </div>\n            <div className=\"status\">\n              <span className=\"type\">{MembersObj?.channelOwner.role}</span>\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {MembersObj?.channelAdmins?.map((adminUser) => {\n          return (\n            <div className=\"admin\" key={adminUser.id}>\n              <div className=\"imageNameContainer\">\n                <div className=\"userPic\">\n                  <Image\n                    className=\"pic\"\n                    src={`http://localhost:3000/${adminUser.user.avatar}`}\n                    width={50}\n                    height={50}\n                    alt=\"avatar\"\n                  />\n                </div>\n                <div className=\"name\">{adminUser.user.username}</div>\n                <div className=\"blocked\" style={{ color: \"tomato\" }}>\n                  {adminUser.condition == \"BLOCKED\" ? <MdBlock /> : \"\"}\n                  {adminUser.condition == \"MUTED\" ? <BiSolidVolumeMute /> : \"\"}\n                </div>\n              </div>\n              <div className=\"status\">\n                <span className=\"type\">{adminUser.role}</span>\n                {MembersObj?.myTypeInTheChannel?.role === \"OWNER\" ? (\n                  <>\n                    <span className=\"actionsBtn\">\n                      {MembersObj?.myTypeInTheChannel?.role === \"OWNER\" ? (\n                        <BsThreeDotsVertical className=\"btn\" />\n                      ) : (\n                        \"\"\n                      )}\n                      <span className=\"actions\">\n                        <ul>\n                          {MembersObj?.myTypeInTheChannel?.role === \"OWNER\" ? (\n                            <li\n                              onClick={() =>\n                                handleRemoveAdminClick(adminUser.user.uid)\n                              }\n                            >\n                              RM ADMIN\n                            </li>\n                          ) : (\n                            \"\"\n                          )}\n\n                          <li\n                            onClick={() => handleKickClick(adminUser.user.uid)}\n                          >\n                            KICK\n                          </li>\n                          {adminUser.condition == \"BLOCKED\" ? (\n                            <li\n                              onClick={() =>\n                                handleRmBlockClick(adminUser.user.uid)\n                              }\n                            >\n                              RM BLOCK\n                            </li>\n                          ) : (\n                            <li\n                              onClick={() =>\n                                handleBlockClick(adminUser.user.uid)\n                              }\n                            >\n                              BLOCK\n                            </li>\n                          )}\n                          {adminUser.condition == \"MUTED\" ? (\n                            <li\n                              onClick={() =>\n                                handleRmMuteClick(adminUser.user.uid)\n                              }\n                            >\n                              RM MUTE\n                            </li>\n                          ) : (\n                            <li\n                              onClick={() =>\n                                handleMuteClick(adminUser.user.uid)\n                              }\n                            >\n                              MUTE 1MIN\n                            </li>\n                          )}\n                        </ul>\n                      </span>\n                    </span>\n                  </>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n          );\n        })}\n        {MembersObj?.channelNormalUsers?.map((normalUser) => {\n          return (\n            <div className=\"user\" key={normalUser.id}>\n              <div className=\"imageNameContainer\">\n                <div className=\"userPic\">\n                  <Image\n                    className=\"pic\"\n                    src={`http://localhost:3000/${normalUser.user.avatar}`}\n                    width={50}\n                    height={50}\n                    alt=\"avatar\"\n                  />\n                </div>\n                <div className=\"name\">{normalUser.user.username}</div>\n                <div className=\"blocked\" style={{ color: \"tomato\" }}>\n                  {normalUser.condition == \"BLOCKED\" ? <MdBlock /> : \"\"}\n                  {normalUser.condition == \"MUTED\" ? <BiSolidVolumeMute /> : \"\"}\n                </div>\n              </div>\n              <div className=\"actionsBtn\">\n                {MembersObj?.myTypeInTheChannel?.role === \"OWNER\" ||\n                MembersObj?.myTypeInTheChannel?.role === \"ADMIN\" ? (\n                  <BsThreeDotsVertical />\n                ) : (\n                  \"\"\n                )}\n                {MembersObj?.myTypeInTheChannel?.role === \"OWNER\" ||\n                MembersObj?.myTypeInTheChannel?.role === \"ADMIN\" ? (\n                  <span className=\"actions\">\n                    <ul>\n                      {MembersObj?.myTypeInTheChannel?.role === \"OWNER\" ? (\n                        <li\n                          onClick={() => handleAdminClick(normalUser.user.uid)}\n                        >\n                          ADMIN\n                        </li>\n                      ) : (\n                        \"\"\n                      )}\n\n                      <li onClick={() => handleKickClick(normalUser.user.uid)}>\n                        KICK\n                      </li>\n                      {normalUser.condition == \"BLOCKED\" ? (\n                        <li\n                          onClick={() =>\n                            handleRmBlockClick(normalUser.user.uid)\n                          }\n                        >\n                          RM BLOCK\n                        </li>\n                      ) : (\n                        <li\n                          onClick={() => handleBlockClick(normalUser.user.uid)}\n                        >\n                          BLOCK\n                        </li>\n                      )}\n                      {normalUser.condition == \"MUTED\" ? (\n                        <li\n                          onClick={() => handleRmMuteClick(normalUser.user.uid)}\n                        >\n                          RM MUTE\n                        </li>\n                      ) : (\n                        <li\n                          onClick={() => handleMuteClick(normalUser.user.uid)}\n                        >\n                          MUTE 1MIN\n                        </li>\n                      )}\n                    </ul>\n                  </span>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      <div className=\"leaveBtn\">\n        <GiCancel\n          className=\"cancelBtn\"\n          onClick={() => handleLeaveChannel(userId)}\n        />\n        <p onClick={() => handleLeaveChannel(userId)}>\n          Leave {channelData?.name}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ChannelInfo;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1896, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/FriendInfo.tsx"],"sourcesContent":["import React from \"react\";\nimport \"./FriendInfo.css\";\nimport { currentFriend } from \"@/app/Atoms/currentFriend\";\nimport { useRecoilState } from \"recoil\";\nimport Image from \"next/image\";\nimport { MdBlock } from \"react-icons/md\";\nimport { CgUnblock } from \"react-icons/cg\";\nimport { FriendData } from \"@/app/Interfaces/friendDataInterface\";\nexport const FriendInfo = () => {\n  const [friend, setFriend] = useRecoilState(currentFriend);\n\n  return (\n    <div className=\"current_friend_info_container\">\n      <div className=\"current_friend_info\">\n        <Image\n          className=\"current_friend_avatar\"\n          src={friend?.avatar || \"\"}\n          width={5000}\n          height={5000}\n          alt=\"avatar\"\n        />\n        <h1>{friend?.name}</h1>\n        <h3>{friend?.bio}</h3>\n      </div>\n      <div className=\"current_friend_rank\">\n        <h1>rank</h1>\n        <Image\n          className=\"current_friend_rank_badge\"\n          src={friend?.rankBadge || \"\"}\n          width={5000}\n          height={5000}\n          alt=\"rank_badge\"\n        />\n        <h3> {friend?.rank} </h3>\n      </div>\n      <div className=\"current_friend_achievements_container\">\n        <h1>achievements</h1>\n        <div className=\"current_friend_achievements\">\n          {friend?.achievements?.map((a:any) => {\n            if (a?.unlocked)\n              return (\n                <div key={a?.name} className=\"current_friend_achievement\">\n                  <Image\n                    className=\"current_friend_achievement_badge\"\n                    src={a?.uri || \"\"}\n                    width={5000}\n                    height={5000}\n                    alt=\"achievement_badge\"\n                  />\n\n                  <span>{a?.name}</span>\n                </div>\n              );\n          })}\n        </div>\n      </div>\n      <div className=\"current_friend_block\">\n        <button\n          onClick={() =>\n            setFriend((prev: FriendData | undefined) => {\n              if (prev) {\n                return { ...prev, blocked: !prev?.blocked };\n              }\n            })\n          }\n          className={`block_current_friend ${\n            friend?.blocked ? \"block_current_friend\" : \"unblock_current_friend\"\n          }`}\n        >\n          {friend?.blocked ? <CgUnblock /> : <MdBlock />}\n        </button>\n        <p>{friend?.name}</p>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAQO,MAAM,aAAa;;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG;IAE5B,qBACE,wLAAC;QAAI,WAAU;;0BACb,wLAAC;gBAAI,WAAU;;kCACb;wBACE,WAAU;wBACV,KAAK,QAAQ,UAAU;wBACvB,OAAO;wBACP,QAAQ;wBACR,KAAI;;;;;;kCAEN,wLAAC;kCAAI,QAAQ;;;;;;kCACb,wLAAC;kCAAI,QAAQ;;;;;;;;;;;;0BAEf,wLAAC;gBAAI,WAAU;;kCACb,wLAAC;kCAAG;;;;;;kCACJ;wBACE,WAAU;wBACV,KAAK,QAAQ,aAAa;wBAC1B,OAAO;wBACP,QAAQ;wBACR,KAAI;;;;;;kCAEN,wLAAC;;4BAAG;4BAAE,QAAQ;4BAAK;;;;;;;;;;;;;0BAErB,wLAAC;gBAAI,WAAU;;kCACb,wLAAC;kCAAG;;;;;;kCACJ,wLAAC;wBAAI,WAAU;kCACZ,QAAQ,cAAc,IAAI,CAAC;4BAC1B,IAAI,GAAG,UACL,qBACE,wLAAC;gCAAkB,WAAU;;kDAC3B;wCACE,WAAU;wCACV,KAAK,GAAG,OAAO;wCACf,OAAO;wCACP,QAAQ;wCACR,KAAI;;;;;;kDAGN,wLAAC;kDAAM,GAAG;;;;;;;+BATF,GAAG;;;;;wBAYnB;;;;;;;;;;;;0BAGJ,wLAAC;gBAAI,WAAU;;kCACb,wLAAC;wBACC,SAAS,IACP,UAAU,CAAC;gCACT,IAAI,MAAM;oCACR,OAAO;wCAAE,GAAG,IAAI;wCAAE,SAAS,CAAC,MAAM;oCAAQ;gCAC5C;4BACF;wBAEF,WAAW,CAAC,qBAAqB,EAC/B,QAAQ,UAAU,yBAAyB,yBAC5C,CAAC;kCAED,QAAQ,wBAAU;;;;iDAAgB;;;;;;;;;;kCAErC,wLAAC;kCAAG,QAAQ;;;;;;;;;;;;;;;;;;AAIpB;GAnEa;;;;;KAAA"}},
    {"offset": {"line": 2099, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2104, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Channels/popupCreateChannel.tsx"],"sourcesContent":["\"use client\";\nimport React, { ChangeEvent, FormEvent, useState } from \"react\";\nimport Image from \"next/image\";\nimport { IoCameraReverse } from \"react-icons/io5\";\nimport { MdOutlineCancel } from \"react-icons/md\";\nimport \"./channelChat.css\";\nimport { useRecoilValue } from \"recoil\";\nimport { userToken } from \"@/app/Atoms/userToken\";\n\ninterface popupProps {\n  setShowPopUpCreateChannel: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nconst PopupCreateChannel: React.FC<popupProps> = ({\n  setShowPopUpCreateChannel,\n}) => {\n  const [selectedChannelPicture, setSelectedChannelPicture] = useState(\n    \"/channelDefaultImage.png\"\n  );\n\n  const [name, setName] = useState(\"\");\n  const [status, setStatus] = useState(\"PUBLIC\");\n  const [topic, setTopic] = useState(\"\");\n  const [code, setCode] = useState(\"0000\");\n  const [file, setFile] = useState<File | null>(null);\n\n  const userTok = useRecoilValue(userToken);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"type\", status);\n    formData.append(\"code\", code);\n    formData.append(\"topic\", topic);\n    console.log(\"formData: \", formData);\n    if (file) formData.append(\"uri\", file);\n\n    fetch(`http://localhost:3000/channelss`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${userTok}`,\n      },\n      body: formData,\n    }).then(() => {\n      setShowPopUpCreateChannel(false);\n      setSelectedChannelPicture(\"/channelDefaultImage.png\");\n      setName(\"\");\n      setStatus(\"PUBLIC\");\n      setTopic(\"\");\n      setCode(\"\");\n    });\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    setFile(selectedFile || null);\n    if (selectedFile) {\n      const imageUrl = URL.createObjectURL(selectedFile);\n      setSelectedChannelPicture(imageUrl);\n    }\n  };\n\n  const handleStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setStatus(e.target.value);\n  };\n\n  return (\n    <div className=\"popupContainer\">\n      <button\n        className=\"cancelBtn\"\n        onClick={() => {\n          setShowPopUpCreateChannel(false);\n        }}\n      >\n        <MdOutlineCancel />\n      </button>\n      <h3>create channel</h3>\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <div className=\"imageContainer\">\n          <Image\n            className=\"img\"\n            src={selectedChannelPicture}\n            width={130}\n            height={130}\n            alt=\"\"\n          />\n          <div className=\"chooseImageBtn\">\n            <label htmlFor=\"file-upload\" className=\"\">\n              <IoCameraReverse />\n            </label>\n            <input\n              required\n              type=\"file\"\n              id=\"file-upload\"\n              className=\"custom-file-input\"\n              accept=\"image/*\"\n              onChange={(e) => {\n                handleChange(e);\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"nameInput\">\n          <label htmlFor=\"channelName\">channel name</label>\n          <input\n            required\n            type=\"text\"\n            name=\"name\"\n            id=\"channelName\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"name\"\n          />\n        </div>\n        <div className=\"topicInput\">\n          <label htmlFor=\"channeltopic\">channel topic</label>\n          <input\n            required\n            type=\"text\"\n            name=\"topic\"\n            id=\"channeltopic\"\n            value={topic}\n            onChange={(e) => setTopic(e.target.value)}\n            placeholder=\"topic\"\n          />\n        </div>\n        <div className=\"channelType\">\n          <div>\n            <input\n              type=\"radio\"\n              id=\"public\"\n              value=\"PUBLIC\"\n              checked={status === \"PUBLIC\"}\n              onChange={handleStatusChange}\n            />\n            <label htmlFor=\"public\">public</label>\n          </div>\n          <div>\n            <input\n              type=\"radio\"\n              id=\"private\"\n              value=\"PRIVATE\"\n              checked={status === \"PRIVATE\"}\n              onChange={handleStatusChange}\n            />\n            <label htmlFor=\"private\">private</label>\n          </div>\n          <div>\n            <input\n              type=\"radio\"\n              id=\"protected\"\n              value=\"PROTECTED\"\n              checked={status === \"PROTECTED\"}\n              onChange={handleStatusChange}\n            />\n            <label htmlFor=\"protected\">protected</label>\n          </div>\n          {status == \"PROTECTED\" ? (\n            <input\n              required\n              maxLength={4}\n              type=\"number\"\n              name=\"code\"\n              value={code}\n              onKeyDown={(e) => e.key === \".\" && e.preventDefault()}\n              onChange={(e) => {\n                if (e.target.value.length < 5) setCode(e.target.value);\n              }}\n              className=\"protectedPassword\"\n              placeholder=\"code\"\n            />\n          ) : (\n            \"\"\n          )}\n        </div>\n        <button className=\"createChannelBtn\" type=\"submit\">\n          create\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default PopupCreateChannel;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2452, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2457, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/AddFriend.tsx"],"sourcesContent":["\"use client\";\nimport { TiUserAdd } from \"react-icons/ti\";\n\nimport Image from \"next/image\";\nimport \"./AddFriend.css\";\nimport { useEffect } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { userToken } from \"@/app/Atoms/userToken\";\nimport { loggedUser } from \"@/app/Atoms/logged\";\nexport default function AddFriend({ user }: { user: any }) {\n  const userTok = useRecoilValue(userToken);\n  const loggedU = useRecoilValue(loggedUser);\n\n  const addFriend = async () => {\n    const notifData = {\n      type: \"friendReq\",\n      content: \"sent you a friend request\",\n      suserId: loggedU,\n      ruserId: user.uid,\n    };\n\n    try {\n      const res = await fetch(\"http://localhost:3000/notifications\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${userTok}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(notifData),\n      });\n\n      const data = await res.json();\n      console.log(\">>>>>>>>>>>>>>>>>>>>>\", data);\n    } catch (error: any) {\n      console.log(\"error>>>\", error.message);\n    }\n  };\n\n  return (\n    <div className=\"add_friend_conatiner\">\n      <Image\n        className=\"add_friend_avatar\"\n        src={`/${user.avatar}`}\n        width={1000}\n        height={1000}\n        alt=\"avatar\"\n      />\n      <p className=\"add_friend_name\">{user.username}</p>\n      <button onClick={addFriend} className=\"add_friend_btn\">\n        <TiUserAdd />\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;;AASe,SAAS,UAAU,EAAE,IAAI,EAAiB;;IACvD,MAAM,UAAU;IAChB,MAAM,UAAU;IAEhB,MAAM,YAAY;QAChB,MAAM,YAAY;YAChB,MAAM;YACN,SAAS;YACT,SAAS;YACT,SAAS,KAAK,GAAG;QACnB;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,uCAAuC;gBAC7D,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC;oBAClC,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,yBAAyB;QACvC,EAAE,OAAO,OAAY;YACnB,QAAQ,GAAG,CAAC,YAAY,MAAM,OAAO;QACvC;IACF;IAEA,qBACE,wLAAC;QAAI,WAAU;;0BACb;gBACE,WAAU;gBACV,KAAK,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,CAAC;gBACtB,OAAO;gBACP,QAAQ;gBACR,KAAI;;;;;;0BAEN,wLAAC;gBAAE,WAAU;0BAAmB,KAAK,QAAQ;;;;;;0BAC7C,wLAAC;gBAAO,SAAS;gBAAW,WAAU;0BACpC,cAAA;;;;;;;;;;;;;;;;AAIR;GA5CwB;;;;;;KAAA"}},
    {"offset": {"line": 2553, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2558, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Friends/AddFriendSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { TiUserAdd } from \"react-icons/ti\";\nimport { useRecoilValue } from \"recoil\";\nimport { userToken } from \"@/app/Atoms/userToken\";\nimport AddFriend from \"./AddFriend\";\nimport { loggedUser } from \"@/app/Atoms/logged\";\n\nconst AddFriendSection = () => {\n  const userTok = useRecoilValue(userToken);\n  const userL = useRecoilValue(loggedUser);\n  const [addFriend, setAddFriend] = useState(false);\n\n  const [input, setInput] = useState(\"\");\n  const [allUsers, setAllUsers] = useState([]);\n  const filteredUsers = allUsers.filter((user:any) =>\n    user?.username.toLowerCase().includes(input.toLowerCase())\n  );\n  const addFriendClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n  };\n\n  const getAllusers = async () => {\n    if (!addFriend) return;\n    try {\n      console.log(\"toooooooooooooooo ====> 0000\", userTok);\n      const res = await fetch(\n        `http://localhost:3000/friends/allusers/${userL}`,\n        {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const data = await res.json();\n      if (data?.statusCode === 401) return;\n      console.log(\"all users ====> \", data);\n      setAllUsers(data);\n    } catch (error) {\n      console.log(\"3aaaaaaaaaaaa>>>>>\");\n    }\n  };\n  useEffect(() => {\n    getAllusers();\n  }, [addFriend]);\n\n  return (\n    <div\n      onClick={() => setAddFriend((prev) => !prev)}\n      className={`add_friend ${addFriend && `show_the_big_div`}`}\n    >\n      {addFriend ? (\n        <div onClick={addFriendClick} className=\"add_friend_container\">\n          <input\n          value={input}\n          onChange={(e)=>setInput(e.target.value)}\n          type=\"text\" placeholder=\"Add friend\" />\n\n          <div className=\"searchedFriends\">\n            {filteredUsers?.map((user: any) => (\n              <AddFriend key={user.uid} user={user} />\n            ))}\n          </div>\n        </div>\n      ) : (\n        <TiUserAdd />\n      )}\n    </div>\n  );\n};\nexport default AddFriendSection;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;AAUA,MAAM,mBAAmB;;IACvB,MAAM,UAAU;IAChB,MAAM,QAAQ;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,0KAAS;IAE3C,MAAM,CAAC,OAAO,SAAS,GAAG,0KAAS;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,0KAAS,EAAE;IAC3C,MAAM,gBAAgB,SAAS,MAAM,CAAC,CAAC,OACrC,MAAM,SAAS,cAAc,SAAS,MAAM,WAAW;IAEzD,MAAM,iBAAiB,CAAC;QACtB,EAAE,eAAe;IACnB;IAEA,MAAM,cAAc;QAClB,IAAI,CAAC,WAAW;QAChB,IAAI;YACF,QAAQ,GAAG,CAAC,gCAAgC;YAC5C,MAAM,MAAM,MAAM,MAChB,CAAC,uCAAuC,EAAE,MAAM,CAAC,EACjD;gBACE,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC;oBAClC,gBAAgB;gBAClB;YACF;YAEF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,MAAM,eAAe,KAAK;YAC9B,QAAQ,GAAG,CAAC,oBAAoB;YAChC,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;QACd;IACF;IACA,2KAAU;QACR;IACF,GAAG;QAAC;KAAU;IAEd,qBACE,wLAAC;QACC,SAAS,IAAM,aAAa,CAAC,OAAS,CAAC;QACvC,WAAW,CAAC,WAAW,EAAE,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;kBAEzD,0BACC,wLAAC;YAAI,SAAS;YAAgB,WAAU;;8BACtC,wLAAC;oBACD,OAAO;oBACP,UAAU,CAAC,IAAI,SAAS,EAAE,MAAM,CAAC,KAAK;oBACtC,MAAK;oBAAO,aAAY;;;;;;8BAExB,wLAAC;oBAAI,WAAU;8BACZ,eAAe,IAAI,CAAC,qBACnB;4BAA0B,MAAM;2BAAhB,KAAK,GAAG;;;;;;;;;;;;;;;iCAK9B;;;;;;;;;;AAIR;GA/DM;;;;;;KAAA;uCAgES"}},
    {"offset": {"line": 2670, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2675, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/Channels/popupSearchChannels.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./channelChat.css\";\nimport { MdOutlineCancel } from \"react-icons/md\";\nimport { useRecoilValue } from \"recoil\";\nimport { userToken } from \"@/app/Atoms/userToken\";\nimport Image from \"next/image\";\n\ninterface popupProps {\n  setSelectedChannel: React.Dispatch<React.SetStateAction<number>>;\n  setShowPopUpSearchChannels: React.Dispatch<React.SetStateAction<boolean>>;\n  userId: number;\n}\n\ninterface channelInterface {\n  name: string;\n  type: string;\n  topic: string;\n  uri: string;\n  code: number;\n  id: number;\n}\n\nconst PopupSearchChannels: React.FC<popupProps> = ({\n  setSelectedChannel,\n  setShowPopUpSearchChannels,\n  userId,\n}) => {\n  const [error, setError] = useState<string>(\"\");\n  const [code, setCode] = useState<number | undefined>(0);\n  const [channelName, setChannelName] = useState(\"\");\n  const [fetchedChannels, setFetchedChannels] = useState<channelInterface[]>();\n  const userTok = useRecoilValue(userToken);\n\n  const handleJoin = async (id: number) => {\n    const req = await fetch(\n      `http://localhost:3000/channelss/roles?channelId=${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${userTok}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const allRoles = await req.json();\n    console.log(\"all roles =>\", allRoles);\n    const imIinIt = allRoles.filter((e: any) => e.userID == userId);\n    if (imIinIt.length && imIinIt.length > 0) {\n      console.log(\"ALREADY IN IT imIinIt => \", imIinIt);\n      setShowPopUpSearchChannels(false);\n      setSelectedChannel(id);\n      setCode(undefined);\n      return;\n    }\n    await fetch(\n      `http://localhost:3000/channelss/joinpublic?userID=${userId}&channelID=${id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${userTok}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    ).then(() => {\n      setCode(0);\n      setShowPopUpSearchChannels(false);\n    });\n  };\n\n  const handleJoinProtected = async (id: number, originalCode: number) => {\n    console.log(\n      \"id : \",\n      id,\n      \" original code :\",\n      originalCode,\n      \" entered code :\",\n      code\n    );\n    if (originalCode == code) {\n      handleJoin(id);\n    } else {\n      setError(\"code is wrong\");\n      setCode(undefined);\n      setTimeout(() => {\n        setError(\"\");\n      }, 2000);\n    }\n  };\n  useEffect(() => {\n    console.log(\"HERE\");\n    const fetchFreshChannels = async () => {\n      const response = await fetch(\n        `http://localhost:3000/channelss?mustinclude=${channelName}`,\n        {\n          headers: {\n            Authorization: `Bearer ${userTok}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const data = await response.json();\n      console.log(\"data is equal to :\", data);\n      setFetchedChannels(data);\n    };\n\n    fetchFreshChannels();\n  }, [channelName]);\n\n  return (\n    <div className=\"popupContainer\">\n      <button\n        className=\"cancelBtn\"\n        onClick={() => {\n          setShowPopUpSearchChannels(false);\n          setChannelName(\"\");\n          setCode(undefined);\n        }}\n      >\n        <MdOutlineCancel />\n      </button>\n      <div className=\"searchingArea\">\n        {error.length > 0 ? <p className=\"errorMsg\">{error}</p> : \"\"}\n        <input\n          type=\"text\"\n          name=\"channelName\"\n          className=\"searchingChannelInput\"\n          placeholder=\"search channel\"\n          value={channelName}\n          onChange={(e) => setChannelName(e.currentTarget.value)}\n        />\n        <div className=\"searchedChannelsList\">\n          {fetchedChannels?.map((e: channelInterface) => {\n            return (\n              <div className=\"channelLink\" key={e.id}>\n                <div className=\"imageAndName\">\n                  <Image\n                    src={`http://localhost:3000/${e.uri}`}\n                    width={50}\n                    height={50}\n                    alt=\"IMG\"\n                    className=\"channelImage\"\n                  />\n                  <div className=\"nameAndCode\">\n                    <p>{e.name}</p>\n                    {e.type == \"PROTECTED\" ? (\n                      <input\n                        type=\"number\"\n                        style={{ appearance: \"textfield\" }}\n                        placeholder=\"code\"\n                        onKeyDown={(e) => e.key === \".\" && e.preventDefault()}\n                        value={code != undefined ? code.toString() : \"\"}\n                        onChange={(e) => {\n                          if (e.target.value.length < 5)\n                            setCode(parseInt(e.target.value));\n                        }}\n                      />\n                    ) : (\n                      \"\"\n                    )}\n                  </div>\n                </div>\n                {e.type == \"PUBLIC\" ? (\n                  <button className=\"joinBtn\" onClick={() => handleJoin(e.id)}>\n                    join\n                  </button>\n                ) : (\n                  <button\n                    className=\"joinBtn\"\n                    onClick={() => handleJoinProtected(e.id, e.code)}\n                  >\n                    join\n                  </button>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupSearchChannels;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;;AAuBA,MAAM,sBAA4C,CAAC,EACjD,kBAAkB,EAClB,0BAA0B,EAC1B,MAAM,EACP;;IACC,MAAM,CAAC,OAAO,SAAS,GAAG,0KAAiB;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,0KAA6B;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,0KAAS;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG;IAC9C,MAAM,UAAU;IAEhB,MAAM,aAAa,OAAO;QACxB,MAAM,MAAM,MAAM,MAChB,CAAC,gDAAgD,EAAE,GAAG,CAAC,EACvD;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC;gBAClC,gBAAgB;YAClB;QACF;QAEF,MAAM,WAAW,MAAM,IAAI,IAAI;QAC/B,QAAQ,GAAG,CAAC,gBAAgB;QAC5B,MAAM,UAAU,SAAS,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,IAAI;QACxD,IAAI,QAAQ,MAAM,IAAI,QAAQ,MAAM,GAAG,GAAG;YACxC,QAAQ,GAAG,CAAC,6BAA6B;YACzC,2BAA2B;YAC3B,mBAAmB;YACnB,QAAQ;YACR;QACF;QACA,MAAM,MACJ,CAAC,kDAAkD,EAAE,OAAO,WAAW,EAAE,GAAG,CAAC,EAC7E;YACE,QAAQ;YACR,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC;gBAClC,gBAAgB;YAClB;QACF,GACA,IAAI,CAAC;YACL,QAAQ;YACR,2BAA2B;QAC7B;IACF;IAEA,MAAM,sBAAsB,OAAO,IAAY;QAC7C,QAAQ,GAAG,CACT,SACA,IACA,oBACA,cACA,mBACA;QAEF,IAAI,gBAAgB,MAAM;YACxB,WAAW;QACb,OAAO;YACL,SAAS;YACT,QAAQ;YACR,WAAW;gBACT,SAAS;YACX,GAAG;QACL;IACF;IACA,2KAAU;QACR,QAAQ,GAAG,CAAC;QACZ,MAAM,qBAAqB;YACzB,MAAM,WAAW,MAAM,MACrB,CAAC,4CAA4C,EAAE,YAAY,CAAC,EAC5D;gBACE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC;oBAClC,gBAAgB;gBAClB;YACF;YAEF,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC,sBAAsB;YAClC,mBAAmB;QACrB;QAEA;IACF,GAAG;QAAC;KAAY;IAEhB,qBACE,wLAAC;QAAI,WAAU;;0BACb,wLAAC;gBACC,WAAU;gBACV,SAAS;oBACP,2BAA2B;oBAC3B,eAAe;oBACf,QAAQ;gBACV;0BAEA,cAAA;;;;;;;;;;0BAEF,wLAAC;gBAAI,WAAU;;oBACZ,MAAM,MAAM,GAAG,kBAAI,wLAAC;wBAAE,WAAU;kCAAY;;;;;+BAAa;kCAC1D,wLAAC;wBACC,MAAK;wBACL,MAAK;wBACL,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,aAAa,CAAC,KAAK;;;;;;kCAEvD,wLAAC;wBAAI,WAAU;kCACZ,iBAAiB,IAAI,CAAC;4BACrB,qBACE,wLAAC;gCAAI,WAAU;;kDACb,wLAAC;wCAAI,WAAU;;0DACb;gDACE,KAAK,CAAC,sBAAsB,EAAE,EAAE,GAAG,CAAC,CAAC;gDACrC,OAAO;gDACP,QAAQ;gDACR,KAAI;gDACJ,WAAU;;;;;;0DAEZ,wLAAC;gDAAI,WAAU;;kEACb,wLAAC;kEAAG,EAAE,IAAI;;;;;;oDACT,EAAE,IAAI,IAAI,4BACT,wLAAC;wDACC,MAAK;wDACL,OAAO;4DAAE,YAAY;wDAAY;wDACjC,aAAY;wDACZ,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,OAAO,EAAE,cAAc;wDACnD,OAAO,QAAQ,YAAY,KAAK,QAAQ,KAAK;wDAC7C,UAAU,CAAC;4DACT,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,GAC1B,QAAQ,SAAS,EAAE,MAAM,CAAC,KAAK;wDACnC;;;;;+DAGF;;;;;;;;;;;;;oCAIL,EAAE,IAAI,IAAI,yBACT,wLAAC;wCAAO,WAAU;wCAAU,SAAS,IAAM,WAAW,EAAE,EAAE;kDAAG;;;;;6DAI7D,wLAAC;wCACC,WAAU;wCACV,SAAS,IAAM,oBAAoB,EAAE,EAAE,EAAE,EAAE,IAAI;kDAChD;;;;;;;+BApC6B,EAAE,EAAE;;;;;wBA0C1C;;;;;;;;;;;;;;;;;;AAKV;GA7JM;;;;;KAAA;uCA+JS"}},
    {"offset": {"line": 2910, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2915, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/chat/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./chat.css\";\nimport Image from \"next/image\";\nimport { HiDotsVertical } from \"react-icons/hi\";\nimport FriendsChat from \"./Friends/FriendsChat\";\nimport ChannelChat from \"./Channels/channelChat\";\nimport SelectedChannelChat from \"./Channels/SelectedChannelChat\";\nimport { MdOutlineCancel } from \"react-icons/md\";\nimport FriendChatList from \"./Friends/FriendChatList\";\nimport { slctdFriend } from \"../Atoms/friendAtom\";\nimport { useRecoilState } from \"recoil\";\nimport ChannelInfo from \"./Channels/channelInfo\";\nimport { IoCameraReverse } from \"react-icons/io5\";\nimport { FriendInfo } from \"./Friends/FriendInfo\";\nimport PopupCreateChannel from \"./Channels/popupCreateChannel\";\nimport AddFriendSection from \"./Friends/AddFriendSection\";\nimport { loggedUser } from \"../Atoms/logged\";\nimport { useRecoilValue } from \"recoil\";\nimport { userToken } from \"@/app/Atoms/userToken\";\nimport { io } from \"socket.io-client\";\nimport PopupSearchChannels from \"./Channels/popupSearchChannels\";\nconst socket = io(\"http://localhost:3001\", { transports: [\"websocket\"] });\ninterface channelInterface {\n  id: number;\n  name: string;\n  topic: string;\n  type: string;\n  uri: string;\n  roles: any[];\n}\n\nconst Chat = () => {\n  const [hide, setHide] = useState(false);\n  const [mode, setMode] = useState(\"friends\");\n  const [selectedFriend, setSelectedFriend] = useRecoilState(slctdFriend);\n  const [selectedChannel, setSelectedChannel] = useState(-1);\n  const [showPopUpCreateChannel, setShowPopUpCreateChannel] = useState(false);\n  const [showPopUpSearchChannels, setShowPopUpSearchChannels] = useState(false);\n\n  const selectedBtn = mode === \"friends\" ? \"toleft\" : \"toright\";\n\n  const userId = useRecoilValue(loggedUser);\n  const userTok = useRecoilValue(userToken);\n  const [channels, setChannels] = useState<channelInterface[]>();\n\n  useEffect(() => {\n    const fetchChannels = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:3000/channelss/${userId}`,\n          {\n            headers: {\n              Authorization: `Bearer ${userTok}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        if (!response) {\n          console.log(\"Error\");\n        }\n        const data = await response.json();\n        console.log(\"DAAAATAAAA:\", data);\n        const channelsArr = data.map((data: any) => data.channels);\n        setChannels(channelsArr);\n      } catch (error) {\n        console.log(\"Error\");\n      }\n    };\n    fetchChannels();\n    socket.on(\"updateUsersAfterSomeoneKick\", fetchChannels);\n    socket.on(\"updateChannels\", fetchChannels);\n    socket.on(\"updateRoles\", fetchChannels);\n    return () => {\n      socket.off(\"updateUsersAfterSomeoneKick\");\n      socket.off(\"updateChannels\");\n      socket.off(\"updateRoles\");\n    };\n  }, []);\n\n  const preventCHilde = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n  };\n\n  const handleParentClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    setHide(false);\n  };\n\n  return (\n    <div className=\"chat_channels_container\">\n      <div className=\"chat_channels_sub_container\">\n        <div\n          className={`createChannelPopup ${\n            showPopUpCreateChannel ? \"showPopup\" : \"hidePopUp\"\n          }`}\n        >\n          <PopupCreateChannel\n            setShowPopUpCreateChannel={setShowPopUpCreateChannel}\n          />\n        </div>\n        <div\n          className={`createChannelPopup ${\n            showPopUpSearchChannels ? \"showPopup\" : \"hidePopUp\"\n          }`}\n        >\n          <PopupSearchChannels\n            setSelectedChannel={setSelectedChannel}\n            userId={userId}\n            setShowPopUpSearchChannels={setShowPopUpSearchChannels}\n          />\n        </div>\n        <div\n          className={`col1 ${\n            (selectedFriend !== -1 || selectedChannel > 0) && \"hideCol1\"\n          }  `}\n        >\n          <div className=\"switcher\">\n            <button\n              onClick={() => {\n                setMode(\"friends\");\n              }}\n            >\n              Friends\n            </button>\n            <button\n              onClick={() => {\n                setMode(\"channels\");\n              }}\n            >\n              Channels\n            </button>\n            <span className={`selectedColor ${selectedBtn}`}></span>\n          </div>\n          {/* show friends list or channels list */}\n          {mode == \"friends\" ? (\n            <div className=\"friendsList\">\n              <FriendsChat />\n            </div>\n          ) : (\n            <div className=\"channelsList\">\n              <ChannelChat\n                channels={channels}\n                setSelectedChannel={setSelectedChannel}\n                setShowPopUpCreateChannel={setShowPopUpCreateChannel}\n                setShowPopUpSearchChannels={setShowPopUpSearchChannels}\n              />\n            </div>\n          )}\n        </div>\n        <div\n          className={`col2 ${\n            (selectedFriend !== -1 || selectedChannel > 0) && \"showCol2\"\n          }  `}\n        >\n          {/* show selected friend chat or selected channel chat */}\n          {mode == \"friends\" && selectedFriend != -1 ? (\n            <div className=\"selectedFriendChat\">\n              <FriendChatList />\n            </div>\n          ) : mode == \"channels\" && selectedChannel > 0 ? (\n            <div className=\"selectedChannelChat\">\n              <SelectedChannelChat\n                userId={userId}\n                userTok={userTok}\n                channels={channels}\n                selectedChannel={selectedChannel}\n                setSelectedChannel={setSelectedChannel}\n              />\n            </div>\n          ) : (\n            <div className=\"svgHolder\">\n              {/* animated svg image until u select some :) */}\n              <Image\n                className=\"svgImage\"\n                src={\"/manageChat.svg\"}\n                width={300}\n                height={300}\n                alt=\"select a chat :)\"\n              />\n              <p>all messages are end to end encrypted.</p>\n            </div>\n          )}\n        </div>\n        <div\n          onClick={handleParentClick}\n          className={`col3 ${hide && \"show_col3\"}`}\n        >\n          <div onClick={preventCHilde} className=\"clo3_sub_container\">\n            {mode == \"friends\" && selectedFriend != -1 ? (\n              <FriendInfo />\n            ) : mode == \"channels\" && selectedChannel > 0 ? (\n              <ChannelInfo\n                userId={userId}\n                userTok={userTok}\n                channels={channels}\n                selectedChannel={selectedChannel}\n              />\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n\n        <div\n          onClick={() => {\n            setHide((prev) => !prev);\n          }}\n          className=\"chat_channel_details\"\n        >\n          {hide ? (\n            <MdOutlineCancel className=\"dots_hide\" />\n          ) : (\n            <HiDotsVertical className=\"dots_hide\" />\n          )}\n        </div>\n        {/* {mode === \"friends\" && ( */}\n        <AddFriendSection />\n        {/* )} */}\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3266, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}